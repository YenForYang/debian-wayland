<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wayland Server API: wl_message Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wayland Server API
   &#160;<span id="projectnumber">1.16.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">wl_message Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Protocol message signature.  
 <a href="structwl__message.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="wayland-util_8h_source.html">wayland-util.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for wl_message:</div>
<div class="dyncontent">
<div class="center"><img src="structwl__message__coll__graph.png" border="0" usemap="#wl__message_coll__map" alt="Collaboration graph"/></div>
<map name="wl__message_coll__map" id="wl__message_coll__map">
<area shape="rect" id="node2" href="structwl__interface.html" title="Protocol object interface. " alt="" coords="6,109,109,136"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0def81dbfe6ee21dcf1b6ac037badda7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__message.html#a0def81dbfe6ee21dcf1b6ac037badda7">name</a></td></tr>
<tr class="memdesc:a0def81dbfe6ee21dcf1b6ac037badda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message name.  <a href="#a0def81dbfe6ee21dcf1b6ac037badda7">More...</a><br /></td></tr>
<tr class="separator:a0def81dbfe6ee21dcf1b6ac037badda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afacc7f3dab82d04059c1d9879cad6647"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__message.html#afacc7f3dab82d04059c1d9879cad6647">signature</a></td></tr>
<tr class="memdesc:afacc7f3dab82d04059c1d9879cad6647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message signature.  <a href="#afacc7f3dab82d04059c1d9879cad6647">More...</a><br /></td></tr>
<tr class="separator:afacc7f3dab82d04059c1d9879cad6647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9239f2c688bcd15e703af81f9b8e3a8"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structwl__interface.html">wl_interface</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__message.html#ad9239f2c688bcd15e703af81f9b8e3a8">types</a></td></tr>
<tr class="memdesc:ad9239f2c688bcd15e703af81f9b8e3a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object argument interfaces.  <a href="#ad9239f2c688bcd15e703af81f9b8e3a8">More...</a><br /></td></tr>
<tr class="separator:ad9239f2c688bcd15e703af81f9b8e3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Protocol message signature. </p>
<p>A <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> describes the signature of an actual protocol message, such as a request or event, that adheres to the Wayland protocol wire format. The protocol implementation uses a <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> within its demarshal machinery for decoding messages between a compositor and its clients. In a sense, a <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> is to a protocol message like a class is to an object.</p>
<p>The <code>name</code> of a <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> is the name of the corresponding protocol message.</p>
<p>The <code>signature</code> is an ordered list of symbols representing the data types of message arguments and, optionally, a protocol version and indicators for nullability. A leading integer in the <code>signature</code> indicates the <em>since</em> version of the protocol message. A <code>?</code> preceding a data type symbol indicates that the following argument type is nullable. While it is a protocol violation to send messages with non-nullable arguments set to <code>NULL</code>, event handlers in clients might still get called with non-nullable object arguments set to <code>NULL</code>. This can happen when the client destroyed the object being used as argument on its side and an event referencing that object was sent before the server knew about its destruction. As this race cannot be prevented, clients should - as a general rule - program their event handlers such that they can handle object arguments declared non-nullable being <code>NULL</code> gracefully.</p>
<p>When no arguments accompany a message, <code>signature</code> is an empty string.</p>
<p>Symbols:</p>
<ul>
<li><code>i</code>: int</li>
<li><code>u</code>: uint</li>
<li><code>f</code>: fixed</li>
<li><code>s</code>: string</li>
<li><code>o</code>: object</li>
<li><code>n</code>: new_id</li>
<li><code>a</code>: array</li>
<li><code>h</code>: fd</li>
<li><code>?</code>: following argument is nullable</li>
</ul>
<p>While demarshaling primitive arguments is straightforward, when demarshaling messages containing <code>object</code> or <code>new_id</code> arguments, the protocol implementation often must determine the type of the object. The <code>types</code> of a <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> is an array of <a class="el" href="structwl__interface.html" title="Protocol object interface. ">wl_interface</a> references that correspond to <code>o</code> and <code>n</code> arguments in <code>signature</code>, with <code>NULL</code> placeholders for arguments with non-object types.</p>
<p>Consider the protocol event <a class="el" href="structwl__display.html">wl_display</a> <code>delete_id</code> that has a single <code>uint</code> argument. The <a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a> is:</p>
<div class="fragment"><div class="line">{ <span class="stringliteral">&quot;delete_id&quot;</span>, <span class="stringliteral">&quot;u&quot;</span>, [NULL] }</div></div><!-- fragment --><p>Here, the message <code>name</code> is <code>"delete_id"</code>, the <code>signature</code> is <code>"u"</code>, and the argument <code>types</code> is <code>[NULL]</code>, indicating that the <code>uint</code> argument has no corresponding <a class="el" href="structwl__interface.html" title="Protocol object interface. ">wl_interface</a> since it is a primitive argument.</p>
<p>In contrast, consider a <code>wl_foo</code> interface supporting protocol request <code>bar</code> that has existed since version 2, and has two arguments: a <code>uint</code> and an object of type <code>wl_baz_interface</code> that may be <code>NULL</code>. Such a <code><a class="el" href="structwl__message.html" title="Protocol message signature. ">wl_message</a></code> might be:</p>
<div class="fragment"><div class="line">{ <span class="stringliteral">&quot;bar&quot;</span>, <span class="stringliteral">&quot;2u?o&quot;</span>, [NULL, &amp;wl_baz_interface] }</div></div><!-- fragment --><p>Here, the message <code>name</code> is <code>"bar"</code>, and the <code>signature</code> is <code>"2u?o"</code>. Notice how the <code>2</code> indicates the protocol version, the <code>u</code> indicates the first argument type is <code>uint</code>, and the <code>?o</code> indicates that the second argument is an object that may be <code>NULL</code>. Lastly, the argument <code>types</code> array indicates that no <a class="el" href="structwl__interface.html" title="Protocol object interface. ">wl_interface</a> corresponds to the first argument, while the type <code>wl_baz_interface</code> corresponds to the second argument.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="unionwl__argument.html" title="Protocol message argument data types. ">wl_argument</a> </dd>
<dd>
<a class="el" href="structwl__interface.html" title="Protocol object interface. ">wl_interface</a> </dd>
<dd>
<a href="https://wayland.freedesktop.org/docs/html/ch04.html#sect-Protocol-Wire-Format">Wire Format</a> </dd></dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a0def81dbfe6ee21dcf1b6ac037badda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0def81dbfe6ee21dcf1b6ac037badda7">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* wl_message::name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message name. </p>

</div>
</div>
<a id="afacc7f3dab82d04059c1d9879cad6647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afacc7f3dab82d04059c1d9879cad6647">&#9670;&nbsp;</a></span>signature</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* wl_message::signature</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message signature. </p>

</div>
</div>
<a id="ad9239f2c688bcd15e703af81f9b8e3a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9239f2c688bcd15e703af81f9b8e3a8">&#9670;&nbsp;</a></span>types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structwl__interface.html">wl_interface</a>** wl_message::types</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object argument interfaces. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/dev/shm/libwayland/wayland/src/<a class="el" href="wayland-util_8h_source.html">wayland-util.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 6 2018 13:02:11 for Wayland Server API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
