<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wayland Server API: wl_event_loop Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wayland Server API
   &#160;<span id="projectnumber">1.16.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">wl_event_loop Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An event loop context.  
 <a href="structwl__event__loop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="wayland-server-core_8h_source.html">wayland-server-core.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afb0958142b950045cd91011c71706979"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#afb0958142b950045cd91011c71706979">wl_event_loop_create</a> (void)</td></tr>
<tr class="memdesc:afb0958142b950045cd91011c71706979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new event loop context.  <a href="#afb0958142b950045cd91011c71706979">More...</a><br /></td></tr>
<tr class="separator:afb0958142b950045cd91011c71706979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50f13e2c738e68f7576757aa862513a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#ad50f13e2c738e68f7576757aa862513a">wl_event_loop_destroy</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop)</td></tr>
<tr class="memdesc:ad50f13e2c738e68f7576757aa862513a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy an event loop context.  <a href="#ad50f13e2c738e68f7576757aa862513a">More...</a><br /></td></tr>
<tr class="separator:ad50f13e2c738e68f7576757aa862513a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc44b3062c22d2506ff42460f091396"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#aefc44b3062c22d2506ff42460f091396">wl_event_loop_dispatch_idle</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop)</td></tr>
<tr class="memdesc:aefc44b3062c22d2506ff42460f091396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch the idle sources.  <a href="#aefc44b3062c22d2506ff42460f091396">More...</a><br /></td></tr>
<tr class="separator:aefc44b3062c22d2506ff42460f091396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3fdd5590365a4a2106c9814ca9b31b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#aaa3fdd5590365a4a2106c9814ca9b31b">wl_event_loop_dispatch</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop, int timeout)</td></tr>
<tr class="memdesc:aaa3fdd5590365a4a2106c9814ca9b31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for events and dispatch them.  <a href="#aaa3fdd5590365a4a2106c9814ca9b31b">More...</a><br /></td></tr>
<tr class="separator:aaa3fdd5590365a4a2106c9814ca9b31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c8aa06a2d240a49a95a91eddcba8e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#a58c8aa06a2d240a49a95a91eddcba8e5">wl_event_loop_get_fd</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop)</td></tr>
<tr class="memdesc:a58c8aa06a2d240a49a95a91eddcba8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the event loop file descriptor.  <a href="#a58c8aa06a2d240a49a95a91eddcba8e5">More...</a><br /></td></tr>
<tr class="separator:a58c8aa06a2d240a49a95a91eddcba8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b564d8d4183d71f1fdf06e751d84d51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#a6b564d8d4183d71f1fdf06e751d84d51">wl_event_loop_add_destroy_listener</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop, struct <a class="el" href="structwl__listener.html">wl_listener</a> *listener)</td></tr>
<tr class="memdesc:a6b564d8d4183d71f1fdf06e751d84d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a destroy listener for an event loop context.  <a href="#a6b564d8d4183d71f1fdf06e751d84d51">More...</a><br /></td></tr>
<tr class="separator:a6b564d8d4183d71f1fdf06e751d84d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af282cb9f57fadd1fc0dd47ea68c3bae3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structwl__listener.html">wl_listener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__event__loop.html#af282cb9f57fadd1fc0dd47ea68c3bae3">wl_event_loop_get_destroy_listener</a> (struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *loop, <a class="el" href="wayland-server-core_8h.html#a1db9aad922e07db2a6ad50d151d49a50">wl_notify_func_t</a> notify)</td></tr>
<tr class="memdesc:af282cb9f57fadd1fc0dd47ea68c3bae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the listener struct for the specified callback.  <a href="#af282cb9f57fadd1fc0dd47ea68c3bae3">More...</a><br /></td></tr>
<tr class="separator:af282cb9f57fadd1fc0dd47ea68c3bae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An event loop context. </p>
<p>Usually you create an event loop context, add sources to it, and call <a class="el" href="structwl__event__loop.html#aaa3fdd5590365a4a2106c9814ca9b31b" title="Wait for events and dispatch them. ">wl_event_loop_dispatch()</a> in a loop to process events.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structwl__event__source.html" title="An abstract event source. ">wl_event_source</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6b564d8d4183d71f1fdf06e751d84d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b564d8d4183d71f1fdf06e751d84d51">&#9670;&nbsp;</a></span>wl_event_loop_add_destroy_listener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wl_event_loop_add_destroy_listener </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwl__listener.html">wl_listener</a> *&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a destroy listener for an event loop context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop context whose destruction to listen for. </td></tr>
    <tr><td class="paramname">listener</td><td>The listener with the callback to be called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structwl__listener.html" title="A single listener for Wayland signals. ">wl_listener</a> </dd></dl>

</div>
</div>
<a id="afb0958142b950045cd91011c71706979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0958142b950045cd91011c71706979">&#9670;&nbsp;</a></span>wl_event_loop_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> * wl_event_loop_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new event loop context. </p>
<dl class="section return"><dt>Returns</dt><dd>A new event loop context object.</dd></dl>
<p>This creates a new event loop context. Initially this context is empty. Event sources need to be explicitly added to it.</p>
<p>Normally the event loop is run by calling <a class="el" href="structwl__event__loop.html#aaa3fdd5590365a4a2106c9814ca9b31b" title="Wait for events and dispatch them. ">wl_event_loop_dispatch()</a> in a loop until the program terminates. Alternatively, an event loop can be embedded in another event loop by its file descriptor, see <a class="el" href="structwl__event__loop.html#a58c8aa06a2d240a49a95a91eddcba8e5" title="Get the event loop file descriptor. ">wl_event_loop_get_fd()</a>. </p>

</div>
</div>
<a id="ad50f13e2c738e68f7576757aa862513a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad50f13e2c738e68f7576757aa862513a">&#9670;&nbsp;</a></span>wl_event_loop_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wl_event_loop_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy an event loop context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<p>This emits the event loop destroy signal, closes the event loop file descriptor, and frees <code>loop</code>.</p>
<p>If the event loop has existing sources, those cannot be safely removed afterwards. Therefore one must call <a class="el" href="structwl__event__source.html#afe37015d67b81ae82609f2b8aa78cc4f" title="Remove an event source from its event loop. ">wl_event_source_remove()</a> on all event sources before destroying the event loop context. </p>

</div>
</div>
<a id="aaa3fdd5590365a4a2106c9814ca9b31b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa3fdd5590365a4a2106c9814ca9b31b">&#9670;&nbsp;</a></span>wl_event_loop_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wl_event_loop_dispatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for events and dispatch them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop whose sources to wait for. </td></tr>
    <tr><td class="paramname">timeout</td><td>The polling timeout in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for success, -1 for polling error.</dd></dl>
<p>All the associated event sources are polled. This function blocks until any event source delivers an event (idle sources excluded), or the timeout expires. A timeout of -1 disables the timeout, causing the function to block indefinitely. A timeout of zero causes the poll to always return immediately.</p>
<p>All idle sources are dispatched before blocking. An idle source is destroyed when it is dispatched. After blocking, all other ready sources are dispatched. Then, idle sources are dispatched again, in case the dispatched events created idle sources. Finally, all sources marked with <a class="el" href="structwl__event__source.html#aa079264c57dd12168c691c000724efcf" title="Mark event source to be re-checked. ">wl_event_source_check()</a> are dispatched in a loop until their dispatch functions all return zero. </p>

</div>
</div>
<a id="aefc44b3062c22d2506ff42460f091396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc44b3062c22d2506ff42460f091396">&#9670;&nbsp;</a></span>wl_event_loop_dispatch_idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wl_event_loop_dispatch_idle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch the idle sources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop whose idle sources are dispatched.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structwl__event__source.html#a90d88ae62b26a25f709977c45b300716" title="Create an idle task. ">wl_event_loop_add_idle()</a> </dd></dl>

</div>
</div>
<a id="af282cb9f57fadd1fc0dd47ea68c3bae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af282cb9f57fadd1fc0dd47ea68c3bae3">&#9670;&nbsp;</a></span>wl_event_loop_get_destroy_listener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structwl__listener.html">wl_listener</a> * wl_event_loop_get_destroy_listener </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="wayland-server-core_8h.html#a1db9aad922e07db2a6ad50d151d49a50">wl_notify_func_t</a>&#160;</td>
          <td class="paramname"><em>notify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the listener struct for the specified callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop context to inspect. </td></tr>
    <tr><td class="paramname">notify</td><td>The destroy callback to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structwl__listener.html" title="A single listener for Wayland signals. ">wl_listener</a> registered to the event loop context with the given callback pointer. </dd></dl>

</div>
</div>
<a id="a58c8aa06a2d240a49a95a91eddcba8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c8aa06a2d240a49a95a91eddcba8e5">&#9670;&nbsp;</a></span>wl_event_loop_get_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wl_event_loop_get_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwl__event__loop.html">wl_event_loop</a> *&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the event loop file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>The event loop context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The aggregate file descriptor.</dd></dl>
<p>This function returns the aggregate file descriptor, that represents all the event sources (idle sources excluded) associated with the given event loop context. When any event source makes an event available, it will be reflected in the aggregate file descriptor.</p>
<p>When the aggregate file descriptor delivers an event, one can call <a class="el" href="structwl__event__loop.html#aaa3fdd5590365a4a2106c9814ca9b31b" title="Wait for events and dispatch them. ">wl_event_loop_dispatch()</a> on the event loop context to dispatch all the available events. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/dev/shm/libwayland/wayland/src/<a class="el" href="wayland-server-core_8h_source.html">wayland-server-core.h</a></li>
<li>/dev/shm/libwayland/wayland/src/<a class="el" href="event-loop_8c.html">event-loop.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 6 2018 13:02:11 for Wayland Server API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
