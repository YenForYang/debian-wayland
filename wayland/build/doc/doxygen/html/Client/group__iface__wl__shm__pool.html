<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wayland Client API: The wl_shm_pool interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wayland Client API
   &#160;<span id="projectnumber">1.16.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">The wl_shm_pool interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>The wl_shm_pool object encapsulates a piece of memory shared between the compositor and client.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab6e46f1a6ea14ee92ba99ca800cb552f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#gab6e46f1a6ea14ee92ba99ca800cb552f">WL_SHM_POOL_CREATE_BUFFER_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gab6e46f1a6ea14ee92ba99ca800cb552f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac42f5ca42bce3739c14370a0802436f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#gac42f5ca42bce3739c14370a0802436f8">WL_SHM_POOL_DESTROY_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gac42f5ca42bce3739c14370a0802436f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga159723988a04bbf45b21ae327ce720e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#ga159723988a04bbf45b21ae327ce720e3">WL_SHM_POOL_RESIZE_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga159723988a04bbf45b21ae327ce720e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga11d4fcfe7210ae1576fc3e77582a464d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#ga11d4fcfe7210ae1576fc3e77582a464d">wl_shm_pool_set_user_data</a> (struct wl_shm_pool *wl_shm_pool, void *user_data)</td></tr>
<tr class="separator:ga11d4fcfe7210ae1576fc3e77582a464d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga549ab8ad4d47eba1f2bb73346301f03c"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#ga549ab8ad4d47eba1f2bb73346301f03c">wl_shm_pool_get_user_data</a> (struct wl_shm_pool *wl_shm_pool)</td></tr>
<tr class="separator:ga549ab8ad4d47eba1f2bb73346301f03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga513e12f48e634a2a89ce70f4924cc3e1"><td class="memItemLeft" align="right" valign="top">static struct wl_buffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#ga513e12f48e634a2a89ce70f4924cc3e1">wl_shm_pool_create_buffer</a> (struct wl_shm_pool *wl_shm_pool, int32_t offset, int32_t width, int32_t height, int32_t stride, uint32_t format)</td></tr>
<tr class="memdesc:ga513e12f48e634a2a89ce70f4924cc3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a wl_buffer object from the pool.  <a href="#ga513e12f48e634a2a89ce70f4924cc3e1">More...</a><br /></td></tr>
<tr class="separator:ga513e12f48e634a2a89ce70f4924cc3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c65d2f073ea3f9eee473b8c6f8e5a0d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#ga2c65d2f073ea3f9eee473b8c6f8e5a0d">wl_shm_pool_destroy</a> (struct wl_shm_pool *wl_shm_pool)</td></tr>
<tr class="memdesc:ga2c65d2f073ea3f9eee473b8c6f8e5a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the shared memory pool.  <a href="#ga2c65d2f073ea3f9eee473b8c6f8e5a0d">More...</a><br /></td></tr>
<tr class="separator:ga2c65d2f073ea3f9eee473b8c6f8e5a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8a80049afc3b90e1cec87960d8751bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__shm__pool.html#gaf8a80049afc3b90e1cec87960d8751bb">wl_shm_pool_resize</a> (struct wl_shm_pool *wl_shm_pool, int32_t size)</td></tr>
<tr class="memdesc:gaf8a80049afc3b90e1cec87960d8751bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This request will cause the server to remap the backing memory for the pool from the file descriptor passed when the pool was created, but using the new size.  <a href="#gaf8a80049afc3b90e1cec87960d8751bb">More...</a><br /></td></tr>
<tr class="separator:gaf8a80049afc3b90e1cec87960d8751bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The wl_shm_pool object encapsulates a piece of memory shared between the compositor and client. </p>
<p>Through the wl_shm_pool object, the client can allocate shared memory wl_buffer objects. All objects created through the same pool share the same underlying mapped memory. Reusing the mapped memory avoids the setup/teardown overhead and is useful when interactively resizing a surface or for many small buffers. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab6e46f1a6ea14ee92ba99ca800cb552f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6e46f1a6ea14ee92ba99ca800cb552f">&#9670;&nbsp;</a></span>WL_SHM_POOL_CREATE_BUFFER_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_SHM_POOL_CREATE_BUFFER_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac42f5ca42bce3739c14370a0802436f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac42f5ca42bce3739c14370a0802436f8">&#9670;&nbsp;</a></span>WL_SHM_POOL_DESTROY_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_SHM_POOL_DESTROY_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga159723988a04bbf45b21ae327ce720e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga159723988a04bbf45b21ae327ce720e3">&#9670;&nbsp;</a></span>WL_SHM_POOL_RESIZE_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_SHM_POOL_RESIZE_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga513e12f48e634a2a89ce70f4924cc3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga513e12f48e634a2a89ce70f4924cc3e1">&#9670;&nbsp;</a></span>wl_shm_pool_create_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct wl_buffer* wl_shm_pool_create_buffer </td>
          <td>(</td>
          <td class="paramtype">struct wl_shm_pool *&#160;</td>
          <td class="paramname"><em>wl_shm_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a wl_buffer object from the pool. </p>
<p>The buffer is created offset bytes into the pool and has width and height as specified. The stride argument specifies the number of bytes from the beginning of one row to the beginning of the next. The format is the pixel format of the buffer and must be one of those advertised through the wl_shm.format event.</p>
<p>A buffer will keep a reference to the pool it was created from so it is valid to destroy the pool immediately after creating a buffer from it. </p>

</div>
</div>
<a id="ga2c65d2f073ea3f9eee473b8c6f8e5a0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c65d2f073ea3f9eee473b8c6f8e5a0d">&#9670;&nbsp;</a></span>wl_shm_pool_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_shm_pool_destroy </td>
          <td>(</td>
          <td class="paramtype">struct wl_shm_pool *&#160;</td>
          <td class="paramname"><em>wl_shm_pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the shared memory pool. </p>
<p>The mmapped memory will be released when all buffers that have been created from this pool are gone. </p>

</div>
</div>
<a id="ga549ab8ad4d47eba1f2bb73346301f03c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga549ab8ad4d47eba1f2bb73346301f03c">&#9670;&nbsp;</a></span>wl_shm_pool_get_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* wl_shm_pool_get_user_data </td>
          <td>(</td>
          <td class="paramtype">struct wl_shm_pool *&#160;</td>
          <td class="paramname"><em>wl_shm_pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf8a80049afc3b90e1cec87960d8751bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8a80049afc3b90e1cec87960d8751bb">&#9670;&nbsp;</a></span>wl_shm_pool_resize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_shm_pool_resize </td>
          <td>(</td>
          <td class="paramtype">struct wl_shm_pool *&#160;</td>
          <td class="paramname"><em>wl_shm_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This request will cause the server to remap the backing memory for the pool from the file descriptor passed when the pool was created, but using the new size. </p>
<p>This request can only be used to make the pool bigger. </p>

</div>
</div>
<a id="ga11d4fcfe7210ae1576fc3e77582a464d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11d4fcfe7210ae1576fc3e77582a464d">&#9670;&nbsp;</a></span>wl_shm_pool_set_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_shm_pool_set_user_data </td>
          <td>(</td>
          <td class="paramtype">struct wl_shm_pool *&#160;</td>
          <td class="paramname"><em>wl_shm_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 6 2018 13:02:11 for Wayland Client API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
