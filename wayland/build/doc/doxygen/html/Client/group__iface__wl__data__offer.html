<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wayland Client API: The wl_data_offer interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wayland Client API
   &#160;<span id="projectnumber">1.16.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">The wl_data_offer interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>A wl_data_offer represents a piece of data offered for transfer by another client (the source client).  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwl__data__offer__listener.html">wl_data_offer_listener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga18866cca7fe33980f87280f317b54005"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga18866cca7fe33980f87280f317b54005">WL_DATA_OFFER_OFFER_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga18866cca7fe33980f87280f317b54005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga682da76b87cd5009c8f9c644cdf9cdd8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga682da76b87cd5009c8f9c644cdf9cdd8">WL_DATA_OFFER_SOURCE_ACTIONS_SINCE_VERSION</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga682da76b87cd5009c8f9c644cdf9cdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe2ecca1ad7a44a7a6521c21ab158f0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gafe2ecca1ad7a44a7a6521c21ab158f0f">WL_DATA_OFFER_ACTION_SINCE_VERSION</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:gafe2ecca1ad7a44a7a6521c21ab158f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd57cbb171f602ee992adee2705b6b82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gafd57cbb171f602ee992adee2705b6b82">WL_DATA_OFFER_ACCEPT_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gafd57cbb171f602ee992adee2705b6b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad34d236533aa5741eb25eccddbe05a37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gad34d236533aa5741eb25eccddbe05a37">WL_DATA_OFFER_RECEIVE_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gad34d236533aa5741eb25eccddbe05a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca78f63c7169cb7016914238e26c1902"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gaca78f63c7169cb7016914238e26c1902">WL_DATA_OFFER_DESTROY_SINCE_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gaca78f63c7169cb7016914238e26c1902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8216d4f5dc06daf125fdd8ef10e4d154"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga8216d4f5dc06daf125fdd8ef10e4d154">WL_DATA_OFFER_FINISH_SINCE_VERSION</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga8216d4f5dc06daf125fdd8ef10e4d154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01378374228d2027916d6d34f1338ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gad01378374228d2027916d6d34f1338ad">WL_DATA_OFFER_SET_ACTIONS_SINCE_VERSION</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:gad01378374228d2027916d6d34f1338ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2bc1dbab06d0fd94ec1e6f85de912490"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga2bc1dbab06d0fd94ec1e6f85de912490">wl_data_offer_add_listener</a> (struct wl_data_offer *wl_data_offer, const struct <a class="el" href="structwl__data__offer__listener.html">wl_data_offer_listener</a> *listener, void *data)</td></tr>
<tr class="separator:ga2bc1dbab06d0fd94ec1e6f85de912490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga143d958c97e842907e41adf9275fdc68"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga143d958c97e842907e41adf9275fdc68">wl_data_offer_set_user_data</a> (struct wl_data_offer *wl_data_offer, void *user_data)</td></tr>
<tr class="separator:ga143d958c97e842907e41adf9275fdc68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa332c372ca65635a7ef8840db0588ca4"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gaa332c372ca65635a7ef8840db0588ca4">wl_data_offer_get_user_data</a> (struct wl_data_offer *wl_data_offer)</td></tr>
<tr class="separator:gaa332c372ca65635a7ef8840db0588ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga919438ce8f1761b12aac41b68eab0264"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga919438ce8f1761b12aac41b68eab0264">wl_data_offer_accept</a> (struct wl_data_offer *wl_data_offer, uint32_t serial, const char *mime_type)</td></tr>
<tr class="memdesc:ga919438ce8f1761b12aac41b68eab0264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the client can accept the given mime type, or NULL for not accepted.  <a href="#ga919438ce8f1761b12aac41b68eab0264">More...</a><br /></td></tr>
<tr class="separator:ga919438ce8f1761b12aac41b68eab0264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac199519007a9e4ec54d275660c1d81b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gac199519007a9e4ec54d275660c1d81b8">wl_data_offer_receive</a> (struct wl_data_offer *wl_data_offer, const char *mime_type, int32_t fd)</td></tr>
<tr class="memdesc:gac199519007a9e4ec54d275660c1d81b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">To transfer the offered data, the client issues this request and indicates the mime type it wants to receive.  <a href="#gac199519007a9e4ec54d275660c1d81b8">More...</a><br /></td></tr>
<tr class="separator:gac199519007a9e4ec54d275660c1d81b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga992fb0ea53d092bae266df2613145d81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#ga992fb0ea53d092bae266df2613145d81">wl_data_offer_destroy</a> (struct wl_data_offer *wl_data_offer)</td></tr>
<tr class="memdesc:ga992fb0ea53d092bae266df2613145d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the data offer.  <a href="#ga992fb0ea53d092bae266df2613145d81">More...</a><br /></td></tr>
<tr class="separator:ga992fb0ea53d092bae266df2613145d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad97733d918e937325d15c89dafc8f361"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gad97733d918e937325d15c89dafc8f361">wl_data_offer_finish</a> (struct wl_data_offer *wl_data_offer)</td></tr>
<tr class="memdesc:gad97733d918e937325d15c89dafc8f361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the compositor that the drag destination successfully finished the drag-and-drop operation.  <a href="#gad97733d918e937325d15c89dafc8f361">More...</a><br /></td></tr>
<tr class="separator:gad97733d918e937325d15c89dafc8f361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3eb99e16ec1eef1a4f76d6b1241ff8c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iface__wl__data__offer.html#gab3eb99e16ec1eef1a4f76d6b1241ff8c">wl_data_offer_set_actions</a> (struct wl_data_offer *wl_data_offer, uint32_t dnd_actions, uint32_t preferred_action)</td></tr>
<tr class="memdesc:gab3eb99e16ec1eef1a4f76d6b1241ff8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the actions that the destination side client supports for this operation.  <a href="#gab3eb99e16ec1eef1a4f76d6b1241ff8c">More...</a><br /></td></tr>
<tr class="separator:gab3eb99e16ec1eef1a4f76d6b1241ff8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A wl_data_offer represents a piece of data offered for transfer by another client (the source client). </p>
<p>It is used by the copy-and-paste and drag-and-drop mechanisms. The offer describes the different mime types that the data can be converted to and provides the mechanism for transferring the data directly from the source client. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gafd57cbb171f602ee992adee2705b6b82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd57cbb171f602ee992adee2705b6b82">&#9670;&nbsp;</a></span>WL_DATA_OFFER_ACCEPT_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_ACCEPT_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafe2ecca1ad7a44a7a6521c21ab158f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe2ecca1ad7a44a7a6521c21ab158f0f">&#9670;&nbsp;</a></span>WL_DATA_OFFER_ACTION_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_ACTION_SINCE_VERSION&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaca78f63c7169cb7016914238e26c1902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca78f63c7169cb7016914238e26c1902">&#9670;&nbsp;</a></span>WL_DATA_OFFER_DESTROY_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_DESTROY_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8216d4f5dc06daf125fdd8ef10e4d154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8216d4f5dc06daf125fdd8ef10e4d154">&#9670;&nbsp;</a></span>WL_DATA_OFFER_FINISH_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_FINISH_SINCE_VERSION&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga18866cca7fe33980f87280f317b54005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18866cca7fe33980f87280f317b54005">&#9670;&nbsp;</a></span>WL_DATA_OFFER_OFFER_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_OFFER_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad34d236533aa5741eb25eccddbe05a37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad34d236533aa5741eb25eccddbe05a37">&#9670;&nbsp;</a></span>WL_DATA_OFFER_RECEIVE_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_RECEIVE_SINCE_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad01378374228d2027916d6d34f1338ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad01378374228d2027916d6d34f1338ad">&#9670;&nbsp;</a></span>WL_DATA_OFFER_SET_ACTIONS_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_SET_ACTIONS_SINCE_VERSION&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga682da76b87cd5009c8f9c644cdf9cdd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga682da76b87cd5009c8f9c644cdf9cdd8">&#9670;&nbsp;</a></span>WL_DATA_OFFER_SOURCE_ACTIONS_SINCE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_DATA_OFFER_SOURCE_ACTIONS_SINCE_VERSION&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga919438ce8f1761b12aac41b68eab0264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga919438ce8f1761b12aac41b68eab0264">&#9670;&nbsp;</a></span>wl_data_offer_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_accept </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>serial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mime_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate that the client can accept the given mime type, or NULL for not accepted. </p>
<p>For objects of version 2 or older, this request is used by the client to give feedback whether the client can receive the given mime type, or NULL if none is accepted; the feedback does not determine whether the drag-and-drop operation succeeds or not.</p>
<p>For objects of version 3 or newer, this request determines the final result of the drag-and-drop operation. If the end result is that no mime types were accepted, the drag-and-drop operation will be cancelled and the corresponding drag source will receive wl_data_source.cancelled. Clients may still use this event in conjunction with wl_data_source.action for feedback. </p>

</div>
</div>
<a id="ga2bc1dbab06d0fd94ec1e6f85de912490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bc1dbab06d0fd94ec1e6f85de912490">&#9670;&nbsp;</a></span>wl_data_offer_add_listener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wl_data_offer_add_listener </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structwl__data__offer__listener.html">wl_data_offer_listener</a> *&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga992fb0ea53d092bae266df2613145d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga992fb0ea53d092bae266df2613145d81">&#9670;&nbsp;</a></span>wl_data_offer_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_destroy </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the data offer. </p>

</div>
</div>
<a id="gad97733d918e937325d15c89dafc8f361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad97733d918e937325d15c89dafc8f361">&#9670;&nbsp;</a></span>wl_data_offer_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_finish </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the compositor that the drag destination successfully finished the drag-and-drop operation. </p>
<p>Upon receiving this request, the compositor will emit wl_data_source.dnd_finished on the drag source client.</p>
<p>It is a client error to perform other requests than wl_data_offer.destroy after this one. It is also an error to perform this request after a NULL mime type has been set in wl_data_offer.accept or no action was received through wl_data_offer.action. </p>

</div>
</div>
<a id="gaa332c372ca65635a7ef8840db0588ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa332c372ca65635a7ef8840db0588ca4">&#9670;&nbsp;</a></span>wl_data_offer_get_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* wl_data_offer_get_user_data </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gac199519007a9e4ec54d275660c1d81b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac199519007a9e4ec54d275660c1d81b8">&#9670;&nbsp;</a></span>wl_data_offer_receive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_receive </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mime_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To transfer the offered data, the client issues this request and indicates the mime type it wants to receive. </p>
<p>The transfer happens through the passed file descriptor (typically created with the pipe system call). The source client writes the data in the mime type representation requested and then closes the file descriptor.</p>
<p>The receiving client reads from the read end of the pipe until EOF and then closes its end, at which point the transfer is complete.</p>
<p>This request may happen multiple times for different mime types, both before and after wl_data_device.drop. Drag-and-drop destination clients may preemptively fetch data or examine it more closely to determine acceptance. </p>

</div>
</div>
<a id="gab3eb99e16ec1eef1a4f76d6b1241ff8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3eb99e16ec1eef1a4f76d6b1241ff8c">&#9670;&nbsp;</a></span>wl_data_offer_set_actions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_set_actions </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dnd_actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>preferred_action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the actions that the destination side client supports for this operation. </p>
<p>This request may trigger the emission of wl_data_source.action and wl_data_offer.action events if the compositor needs to change the selected action.</p>
<p>This request can be called multiple times throughout the drag-and-drop operation, typically in response to wl_data_device.enter or wl_data_device.motion events.</p>
<p>This request determines the final result of the drag-and-drop operation. If the end result is that no action is accepted, the drag source will receive wl_drag_source.cancelled.</p>
<p>The dnd_actions argument must contain only values expressed in the wl_data_device_manager.dnd_actions enum, and the preferred_action argument must only contain one of those values set, otherwise it will result in a protocol error.</p>
<p>While managing an "ask" action, the destination drag-and-drop client may perform further wl_data_offer.receive requests, and is expected to perform one last wl_data_offer.set_actions request with a preferred action other than "ask" (and optionally wl_data_offer.accept) before requesting wl_data_offer.finish, in order to convey the action selected by the user. If the preferred action is not in the wl_data_offer.source_actions mask, an error will be raised.</p>
<p>If the "ask" action is dismissed (e.g. user cancellation), the client is expected to perform wl_data_offer.destroy right away.</p>
<p>This request can only be made on drag-and-drop offers, a protocol error will be raised otherwise. </p>

</div>
</div>
<a id="ga143d958c97e842907e41adf9275fdc68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga143d958c97e842907e41adf9275fdc68">&#9670;&nbsp;</a></span>wl_data_offer_set_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wl_data_offer_set_user_data </td>
          <td>(</td>
          <td class="paramtype">struct wl_data_offer *&#160;</td>
          <td class="paramname"><em>wl_data_offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 6 2018 13:02:11 for Wayland Client API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
